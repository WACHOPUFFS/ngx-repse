<div class="container-fluid mt-4">
  <div class="text-center pt-4">
    <h5><strong>Configuración de Tipos de Periodo</strong></h5>
  </div>

  <div class="row">
    <!-- Semanal -->
    <div class="col-md-4 mb-3">
      <nb-card>
        <nb-card-header>Semanal</nb-card-header>
        <nb-card-body>
          <nb-checkbox [(ngModel)]="periodoSemanal">Habilitar Semanal</nb-checkbox>
          <div *ngIf="periodoSemanal" class="mt-3">
            <label>Fecha de inicio</label>
            <input class="mb-2" required nbInput fullWidth placeholder="Seleccione la fecha de inicio"
              [nbDatepicker]="datepickerSemanal" [(ngModel)]="fechaSemanal"
              (ngModelChange)="onDateChange($event, 'semanal')">
            <nb-datepicker #datepickerSemanal></nb-datepicker>

            <label>Año Fiscal</label>
            <input nbInput fullWidth type="number" [(ngModel)]="ejercicioSemanal" [disabled]="!periodoSemanal">
            <small class="text-info">
              El año fiscal se calcula automáticamente, pero puedes modificarlo manualmente si lo deseas.
            </small>
            <br>
            <!-- NUEVO: campo para "posicionpagonomina" -->
            <label class="mt-2">Días de pago</label>
            <input nbInput fullWidth type="number" placeholder="Ej: 6" [(ngModel)]="posicionPagoSemanal">
            <small class="text-info">
              Indica cuántos días después del fin del período se pagará (ej: 6 para semanal).
            </small>

          </div>
        </nb-card-body>
      </nb-card>
    </div>

    <!-- Quincenal -->
    <div class="col-md-4 mb-3">
      <nb-card>
        <nb-card-header>Quincenal</nb-card-header>
        <nb-card-body>
          <nb-checkbox [(ngModel)]="periodoQuincenal">Habilitar Quincenal</nb-checkbox>
          <div *ngIf="periodoQuincenal" class="mt-3">
            <label>Fecha de inicio</label>
            <input class="mb-2" required nbInput fullWidth placeholder="Seleccione la fecha de inicio"
              [nbDatepicker]="datepickerQuincenal" [(ngModel)]="fechaQuincenal"
              (ngModelChange)="onDateChange($event, 'quincenal')">
            <nb-datepicker #datepickerQuincenal></nb-datepicker>
     
            <label>Año Fiscal</label>
            <input nbInput fullWidth type="number" [(ngModel)]="ejercicioQuincenal" [disabled]="!periodoQuincenal">
            <small class="text-info">
              El año fiscal se calcula automáticamente, pero puedes modificarlo manualmente si lo desees.
            </small>
            <br>
            <!-- NUEVO: campo para "posicionpagonomina" -->
            <label class="mt-2">Días de pago</label>
            <input nbInput fullWidth type="number" placeholder="Ej: 15" [(ngModel)]="posicionPagoQuincenal">
            <small class="text-info">
              Indica cuántos días después del fin del período se pagará (ej: 15 para quincenal).
            </small>

          </div>
        </nb-card-body>
      </nb-card>
    </div>

    <!-- Mensual -->
    <div class="col-md-4 mb-3">
      <nb-card>
        <nb-card-header>Mensual</nb-card-header>
        <nb-card-body>
          <nb-checkbox [(ngModel)]="periodoMensual">Habilitar Mensual</nb-checkbox>
          <div *ngIf="periodoMensual" class="mt-3">
            <label>Fecha de inicio</label>
            <input class="mb-2" required nbInput fullWidth placeholder="Seleccione la fecha de inicio"
              [nbDatepicker]="datepickerMensual" [(ngModel)]="fechaMensual"
              (ngModelChange)="onDateChange($event, 'mensual')">
            <nb-datepicker #datepickerMensual></nb-datepicker>

            <label>Año Fiscal</label>
            <input nbInput fullWidth type="number" [(ngModel)]="ejercicioMensual" [disabled]="!periodoMensual">
            <small class="text-info">
              El año fiscal se calcula automáticamente, pero puedes modificarlo manualmente si lo deseas.
            </small>
            <br>
            <!-- NUEVO: campo para "posicionpagonomina" -->
            <label class="mt-3">Días de pago</label>
            <input nbInput fullWidth type="number" placeholder="Ej: 30" [(ngModel)]="posicionPagoMensual">
            <small class="text-info">
              Indica cuántos días después del fin del período se pagará (ej: 30 para mensual).
            </small>

          </div>
        </nb-card-body>
      </nb-card>
    </div>
  </div>

  <div class="row">
    <div class="col-md-6 offset-md-3">
      <button nbButton status="success" fullWidth (click)="guardarConfiguracion()">Guardar configuración</button>
    </div>
  </div>
</div>